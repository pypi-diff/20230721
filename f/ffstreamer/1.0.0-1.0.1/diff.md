# Comparing `tmp/ffstreamer-1.0.0-py3-none-any.whl.zip` & `tmp/ffstreamer-1.0.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,77 +1,77 @@
-Zip file size: 40951 bytes, number of entries: 75
--rw-r--r--  2.0 unx       47 b- defN 23-Jul-20 11:54 ffstreamer/__init__.py
--rw-r--r--  2.0 unx      147 b- defN 23-Jul-20 11:54 ffstreamer/__main__.py
--rw-r--r--  2.0 unx     8942 b- defN 23-Jul-20 11:54 ffstreamer/arguments.py
--rw-r--r--  2.0 unx     2887 b- defN 23-Jul-20 11:54 ffstreamer/entrypoint.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/aio/__init__.py
--rw-r--r--  2.0 unx      860 b- defN 23-Jul-20 11:54 ffstreamer/aio/stream.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/apps/__init__.py
--rw-r--r--  2.0 unx      473 b- defN 23-Jul-20 11:54 ffstreamer/apps/files.py
--rw-r--r--  2.0 unx      517 b- defN 23-Jul-20 11:54 ffstreamer/apps/inspect.py
--rw-r--r--  2.0 unx      450 b- defN 23-Jul-20 11:54 ffstreamer/apps/modules.py
--rw-r--r--  2.0 unx      470 b- defN 23-Jul-20 11:54 ffstreamer/apps/pixels.py
--rw-r--r--  2.0 unx     6928 b- defN 23-Jul-20 11:54 ffstreamer/apps/run.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/argparse/__init__.py
--rw-r--r--  2.0 unx      286 b- defN 23-Jul-20 11:54 ffstreamer/argparse/argument_utils.py
--rw-r--r--  2.0 unx     1427 b- defN 23-Jul-20 11:54 ffstreamer/argparse/namespace_utils.py
--rw-r--r--  2.0 unx     2670 b- defN 23-Jul-20 11:54 ffstreamer/argparse/typing_namespace.py
--rw-r--r--  2.0 unx      286 b- defN 23-Jul-20 11:54 ffstreamer/assets/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/chrono/__init__.py
--rw-r--r--  2.0 unx      121 b- defN 23-Jul-20 11:54 ffstreamer/chrono/datetime.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/__init__.py
--rw-r--r--  2.0 unx     7037 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/ffmpeg.py
--rw-r--r--  2.0 unx     2362 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/ffmpeg_process.py
--rw-r--r--  2.0 unx     2358 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/ffmpeg_receiver.py
--rw-r--r--  2.0 unx     1161 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/ffmpeg_sender.py
--rw-r--r--  2.0 unx     1022 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/ffprobe.py
--rw-r--r--  2.0 unx     1940 b- defN 23-Jul-20 11:54 ffstreamer/ffmpeg/static_lib.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/inspect/__init__.py
--rw-r--r--  2.0 unx     1242 b- defN 23-Jul-20 11:54 ffstreamer/inspect/type_origin.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/logging/__init__.py
--rw-r--r--  2.0 unx     1099 b- defN 23-Jul-20 11:54 ffstreamer/logging/colored_formatter.py
--rw-r--r--  2.0 unx     6328 b- defN 23-Jul-20 11:54 ffstreamer/logging/logging.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/memory/__init__.py
--rw-r--r--  2.0 unx     4051 b- defN 23-Jul-20 11:54 ffstreamer/memory/shared_memory_queue.py
--rw-r--r--  2.0 unx      974 b- defN 23-Jul-20 11:54 ffstreamer/memory/shared_memory_utils.py
--rw-r--r--  2.0 unx     1325 b- defN 23-Jul-20 11:54 ffstreamer/memory/shared_memory_validator.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/module/__init__.py
--rw-r--r--  2.0 unx     3553 b- defN 23-Jul-20 11:54 ffstreamer/module/errors.py
--rw-r--r--  2.0 unx     2001 b- defN 23-Jul-20 11:54 ffstreamer/module/module.py
--rw-r--r--  2.0 unx     2030 b- defN 23-Jul-20 11:54 ffstreamer/module/module_printer.py
--rw-r--r--  2.0 unx      298 b- defN 23-Jul-20 11:54 ffstreamer/module/variables.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/module/defaults/__init__.py
--rw-r--r--  2.0 unx      799 b- defN 23-Jul-20 11:54 ffstreamer/module/defaults/bytes2numpy.py
--rw-r--r--  2.0 unx      226 b- defN 23-Jul-20 11:54 ffstreamer/module/defaults/grayscale.py
--rw-r--r--  2.0 unx      175 b- defN 23-Jul-20 11:54 ffstreamer/module/defaults/numpy2bytes.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/__init__.py
--rw-r--r--  2.0 unx     2111 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/_module_base.py
--rw-r--r--  2.0 unx     1031 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/module_doc.py
--rw-r--r--  2.0 unx      702 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/module_frame.py
--rw-r--r--  2.0 unx     1974 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/module_open.py
--rw-r--r--  2.0 unx     1071 b- defN 23-Jul-20 11:54 ffstreamer/module/mixin/module_version.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/network/__init__.py
--rw-r--r--  2.0 unx      389 b- defN 23-Jul-20 11:54 ffstreamer/network/address_family.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/package/__init__.py
--rw-r--r--  2.0 unx     2755 b- defN 23-Jul-20 11:54 ffstreamer/package/package_utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/parse/__init__.py
--rw-r--r--  2.0 unx      817 b- defN 23-Jul-20 11:54 ffstreamer/parse/cfg_parse.py
--rw-r--r--  2.0 unx     2257 b- defN 23-Jul-20 11:54 ffstreamer/parse/env_parse.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/regex/__init__.py
--rw-r--r--  2.0 unx     1693 b- defN 23-Jul-20 11:54 ffstreamer/regex/access_filter.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/system/__init__.py
--rw-r--r--  2.0 unx      419 b- defN 23-Jul-20 11:54 ffstreamer/system/environ.py
--rw-r--r--  2.0 unx      915 b- defN 23-Jul-20 11:54 ffstreamer/system/path_context.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/types/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/types/any/__init__.py
--rw-r--r--  2.0 unx      545 b- defN 23-Jul-20 11:54 ffstreamer/types/any/to_string.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/types/string/__init__.py
--rw-r--r--  2.0 unx      535 b- defN 23-Jul-20 11:54 ffstreamer/types/string/to_any.py
--rw-r--r--  2.0 unx      395 b- defN 23-Jul-20 11:54 ffstreamer/types/string/to_boolean.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 11:54 ffstreamer/www/__init__.py
--rw-r--r--  2.0 unx     1065 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     1447 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       59 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       11 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     6533 b- defN 23-Jul-20 11:54 ffstreamer-1.0.0.dist-info/RECORD
-75 files, 93308 bytes uncompressed, 30425 bytes compressed:  67.4%
+Zip file size: 41215 bytes, number of entries: 75
+-rw-r--r--  2.0 unx       47 b- defN 23-Jul-21 06:08 ffstreamer/__init__.py
+-rw-r--r--  2.0 unx      147 b- defN 23-Jul-21 06:08 ffstreamer/__main__.py
+-rw-r--r--  2.0 unx     9176 b- defN 23-Jul-21 06:08 ffstreamer/arguments.py
+-rw-r--r--  2.0 unx     2887 b- defN 23-Jul-21 06:08 ffstreamer/entrypoint.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/aio/__init__.py
+-rw-r--r--  2.0 unx      860 b- defN 23-Jul-21 06:08 ffstreamer/aio/stream.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/apps/__init__.py
+-rw-r--r--  2.0 unx      473 b- defN 23-Jul-21 06:08 ffstreamer/apps/files.py
+-rw-r--r--  2.0 unx      517 b- defN 23-Jul-21 06:08 ffstreamer/apps/inspect.py
+-rw-r--r--  2.0 unx      450 b- defN 23-Jul-21 06:08 ffstreamer/apps/modules.py
+-rw-r--r--  2.0 unx      470 b- defN 23-Jul-21 06:08 ffstreamer/apps/pixels.py
+-rw-r--r--  2.0 unx     7627 b- defN 23-Jul-21 06:08 ffstreamer/apps/run.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/argparse/__init__.py
+-rw-r--r--  2.0 unx      286 b- defN 23-Jul-21 06:08 ffstreamer/argparse/argument_utils.py
+-rw-r--r--  2.0 unx     1427 b- defN 23-Jul-21 06:08 ffstreamer/argparse/namespace_utils.py
+-rw-r--r--  2.0 unx     2670 b- defN 23-Jul-21 06:08 ffstreamer/argparse/typing_namespace.py
+-rw-r--r--  2.0 unx      286 b- defN 23-Jul-21 06:08 ffstreamer/assets/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/chrono/__init__.py
+-rw-r--r--  2.0 unx      121 b- defN 23-Jul-21 06:08 ffstreamer/chrono/datetime.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/__init__.py
+-rw-r--r--  2.0 unx     7037 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/ffmpeg.py
+-rw-r--r--  2.0 unx     2362 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/ffmpeg_process.py
+-rw-r--r--  2.0 unx     2356 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/ffmpeg_receiver.py
+-rw-r--r--  2.0 unx     1161 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/ffmpeg_sender.py
+-rw-r--r--  2.0 unx     1022 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/ffprobe.py
+-rw-r--r--  2.0 unx     1940 b- defN 23-Jul-21 06:08 ffstreamer/ffmpeg/static_lib.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/inspect/__init__.py
+-rw-r--r--  2.0 unx     1242 b- defN 23-Jul-21 06:08 ffstreamer/inspect/type_origin.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/logging/__init__.py
+-rw-r--r--  2.0 unx     1099 b- defN 23-Jul-21 06:08 ffstreamer/logging/colored_formatter.py
+-rw-r--r--  2.0 unx     6328 b- defN 23-Jul-21 06:08 ffstreamer/logging/logging.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/memory/__init__.py
+-rw-r--r--  2.0 unx     4051 b- defN 23-Jul-21 06:08 ffstreamer/memory/shared_memory_queue.py
+-rw-r--r--  2.0 unx      974 b- defN 23-Jul-21 06:08 ffstreamer/memory/shared_memory_utils.py
+-rw-r--r--  2.0 unx     1325 b- defN 23-Jul-21 06:08 ffstreamer/memory/shared_memory_validator.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/module/__init__.py
+-rw-r--r--  2.0 unx     3553 b- defN 23-Jul-21 06:08 ffstreamer/module/errors.py
+-rw-r--r--  2.0 unx     1990 b- defN 23-Jul-21 06:08 ffstreamer/module/module.py
+-rw-r--r--  2.0 unx     2030 b- defN 23-Jul-21 06:08 ffstreamer/module/module_printer.py
+-rw-r--r--  2.0 unx      298 b- defN 23-Jul-21 06:08 ffstreamer/module/variables.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/module/defaults/__init__.py
+-rw-r--r--  2.0 unx      799 b- defN 23-Jul-21 06:08 ffstreamer/module/defaults/bytes2numpy.py
+-rw-r--r--  2.0 unx      226 b- defN 23-Jul-21 06:08 ffstreamer/module/defaults/grayscale.py
+-rw-r--r--  2.0 unx      175 b- defN 23-Jul-21 06:08 ffstreamer/module/defaults/numpy2bytes.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/__init__.py
+-rw-r--r--  2.0 unx     2111 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/_module_base.py
+-rw-r--r--  2.0 unx     1031 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/module_doc.py
+-rw-r--r--  2.0 unx      781 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/module_frame.py
+-rw-r--r--  2.0 unx     1974 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/module_open.py
+-rw-r--r--  2.0 unx     1071 b- defN 23-Jul-21 06:08 ffstreamer/module/mixin/module_version.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/network/__init__.py
+-rw-r--r--  2.0 unx      389 b- defN 23-Jul-21 06:08 ffstreamer/network/address_family.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/package/__init__.py
+-rw-r--r--  2.0 unx     2755 b- defN 23-Jul-21 06:08 ffstreamer/package/package_utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/parse/__init__.py
+-rw-r--r--  2.0 unx      817 b- defN 23-Jul-21 06:08 ffstreamer/parse/cfg_parse.py
+-rw-r--r--  2.0 unx     2257 b- defN 23-Jul-21 06:08 ffstreamer/parse/env_parse.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/regex/__init__.py
+-rw-r--r--  2.0 unx     1693 b- defN 23-Jul-21 06:08 ffstreamer/regex/access_filter.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/system/__init__.py
+-rw-r--r--  2.0 unx      419 b- defN 23-Jul-21 06:08 ffstreamer/system/environ.py
+-rw-r--r--  2.0 unx      915 b- defN 23-Jul-21 06:08 ffstreamer/system/path_context.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/types/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/types/any/__init__.py
+-rw-r--r--  2.0 unx      545 b- defN 23-Jul-21 06:08 ffstreamer/types/any/to_string.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/types/string/__init__.py
+-rw-r--r--  2.0 unx      535 b- defN 23-Jul-21 06:08 ffstreamer/types/string/to_any.py
+-rw-r--r--  2.0 unx      395 b- defN 23-Jul-21 06:08 ffstreamer/types/string/to_boolean.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-21 06:08 ffstreamer/www/__init__.py
+-rw-r--r--  2.0 unx     1065 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1571 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       59 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       11 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     6533 b- defN 23-Jul-21 06:08 ffstreamer-1.0.1.dist-info/RECORD
+75 files, 94431 bytes uncompressed, 30689 bytes compressed:  67.5%
```

## zipnote {}

```diff
@@ -201,26 +201,26 @@
 
 Filename: ffstreamer/types/string/to_boolean.py
 Comment: 
 
 Filename: ffstreamer/www/__init__.py
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/LICENSE
+Filename: ffstreamer-1.0.1.dist-info/LICENSE
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/METADATA
+Filename: ffstreamer-1.0.1.dist-info/METADATA
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/WHEEL
+Filename: ffstreamer-1.0.1.dist-info/WHEEL
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/entry_points.txt
+Filename: ffstreamer-1.0.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/top_level.txt
+Filename: ffstreamer-1.0.1.dist-info/top_level.txt
 Comment: 
 
-Filename: ffstreamer-1.0.0.dist-info/RECORD
+Filename: ffstreamer-1.0.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## ffstreamer/__init__.py

```diff
@@ -1,3 +1,3 @@
 # -*- coding: utf-8 -*-
 
-__version__ = "1.0.0"
+__version__ = "1.0.1"
```

## ffstreamer/arguments.py

```diff
@@ -94,16 +94,18 @@
         -p 1935:1935 \\
         -p 8888:8888 \\
         -p 8889:8889 \\
         bluenviron/mediamtx
 
   Run {PROG}:
     $ {PROG} -c -d -vv {CMD_RUN} \\
+        --use-uvloop \\
         rtsp://localhost:9999/live.sdp \\
-        rtsp://localhost:8554/stream
+        rtsp://localhost:8554/stream \\
+        @bytes2numpy ! @grayscale ! @numpy2bytes
 
   Play the resulting stream:
     $ ffplay \\
         -fflags nobuffer \\
         -fflags discardcorrupt \\
         -flags low_delay \\
         -framedrop \\
@@ -308,14 +310,20 @@
     )
     parser.add_argument(
         "--use-static-ffmpeg",
         action="store_true",
         default=False,
         help="Use the binaries from the static-ffmpeg package",
     )
+    parser.add_argument(
+        "--use-uvloop",
+        action="store_true",
+        default=False,
+        help="Replace the event loop with uvloop",
+    )
 
     subparsers = parser.add_subparsers(dest="cmd")
     add_pixels_parser(subparsers)
     add_files_parser(subparsers)
     add_modules_parser(subparsers)
     add_list_parser(subparsers)
     add_inspect_parser(subparsers)
```

## ffstreamer/entrypoint.py

 * *Ordering differences only*

```diff
@@ -61,17 +61,17 @@
         set_root_level(SEVERITY_NAME_DEBUG)
     else:
         set_root_level(severity)
 
     logger.debug(f"Arguments: {args}")
 
     assert isinstance(args.module_prefix, str)
-    assert isinstance(args.use_static_ffmpeg, bool)
     assert isinstance(args.ffmpeg_path, str)
     assert isinstance(args.ffprobe_path, str)
+    assert isinstance(args.use_static_ffmpeg, bool)
 
     static_lib = StaticFFmpegPaths()
     if args.use_static_ffmpeg:
         static_lib.open()
         args.ffmpeg_path = static_lib.ffmpeg_path
         args.ffprobe_path = static_lib.ffprobe_path
         logger.debug(f"Use static ffmpeg binary: '{args.ffmpeg_path}'")
```

## ffstreamer/apps/run.py

```diff
@@ -1,14 +1,21 @@
 # -*- coding: utf-8 -*-
 
 from argparse import Namespace
 from asyncio import run as asyncio_run
 from asyncio.exceptions import CancelledError
+from sys import version_info
 from typing import Callable, Optional
 
+if version_info >= (3, 11):
+    from asyncio import Runner  # type: ignore[attr-defined]
+
+from uvloop import install as uvloop_install
+from uvloop import new_event_loop as uvloop_new_event_loop
+
 from ffstreamer.argparse.argument_utils import argument_splitter
 from ffstreamer.ffmpeg.ffmpeg import (
     AUTOMATIC_DETECT_FILE_FORMAT,
     DEFAULT_FFMPEG_RECV_FORMAT,
     DEFAULT_FFMPEG_SEND_FORMAT,
     DEFAULT_FILE_FORMAT,
     DEFAULT_PIXEL_FORMAT,
@@ -34,14 +41,15 @@
         pixel_format=DEFAULT_PIXEL_FORMAT,
         file_format=DEFAULT_FILE_FORMAT,
         ffmpeg_path="ffmpeg",
         ffprobe_path="ffprobe",
         module_prefix=MODULE_NAME_PREFIX,
         pipe_separator=MODULE_PIPE_SEPARATOR,
         frame_logging_step=100,
+        use_uvloop=False,
         preview=False,
         debug=False,
         verbose=0,
     ):
         bits_per_pixel = find_bits_per_pixel(pixel_format, ffmpeg_path)
         if bits_per_pixel % 8 != 0:
             raise ValueError("The pixel format only supports multiples of 8 bits")
@@ -81,24 +89,25 @@
 
             logger.debug(f"Initialize module: '{module_name}' -> {module_args}")
             self._modules.append(Module(module_path, *module_args, **kwargs))
             logger.info(f"Initialized module '{module_name}'")
 
         self._receiver = FFmpegReceiver(
             frame_buffer_size,
-            self.on_buffing,
+            self.on_frame,
             *recv_arguments,
             ffmpeg_path=ffmpeg_path,
             frame_logging_step=frame_logging_step,
         )
         self._sender = FFmpegSender(
             *send_arguments,
             ffmpeg_path=ffmpeg_path,
         )
 
+        self._use_uvloop = use_uvloop
         self._preview = preview
         self._debug = debug
         self._verbose = verbose
 
         logger.info(f"FFmpeg path: '{ffmpeg_path}'")
         logger.info(f"FFprobe path: '{ffprobe_path}'")
         logger.info(f"Frame buffer size is {frame_buffer_size} bytes")
@@ -120,26 +129,33 @@
     def debug(self) -> bool:
         return self._debug
 
     @property
     def verbose(self) -> int:
         return self._verbose
 
-    async def on_buffing(self, data: Optional[bytes]) -> None:
+    async def on_frame(self, data: Optional[bytes]) -> None:
         if data is not None:
             buffer = data
             for i, module in enumerate(self._modules):
-                buffer = await module.frame(buffer)
+                buffer = module.frame(buffer)
             self._sender.stdin.write(buffer)
-        else:
-            await self._sender.stdin.drain()
+        await self._sender.stdin.drain()
 
     def run(self) -> int:
         try:
-            asyncio_run(self.run_until_complete())
+            if self._use_uvloop:
+                if version_info >= (3, 11):
+                    with Runner(loop_factory=uvloop_new_event_loop) as runner:
+                        runner.run(self.run_until_complete())
+                else:
+                    uvloop_install()
+                    asyncio_run(self.run_until_complete())
+            else:
+                asyncio_run(self.run_until_complete())
         except KeyboardInterrupt:
             logger.warning("An interrupt signal was detected")
             return 0
         except Exception as e:
             logger.exception(e)
             return 1
         else:
@@ -177,14 +193,15 @@
     assert isinstance(args.send_commandline, str)
     assert isinstance(args.pixel_format, str)
     assert isinstance(args.file_format, str)
     assert isinstance(args.ffmpeg_path, str)
     assert isinstance(args.ffprobe_path, str)
     assert isinstance(args.module_prefix, str)
     assert isinstance(args.pipe_separator, str)
+    assert isinstance(args.use_uvloop, bool)
     assert isinstance(args.preview, bool)
     assert isinstance(args.debug, bool)
     assert isinstance(args.verbose, int)
 
     app = RunApp(
         args.source,
         args.destination,
@@ -194,12 +211,13 @@
         pixel_format=args.pixel_format,
         file_format=args.file_format,
         ffmpeg_path=args.ffmpeg_path,
         ffprobe_path=args.ffprobe_path,
         module_prefix=args.module_prefix,
         pipe_separator=args.pipe_separator,
         frame_logging_step=100,
+        use_uvloop=args.use_uvloop,
         preview=args.preview,
         debug=args.debug,
         verbose=args.verbose,
     )
     return app.run()
```

## ffstreamer/ffmpeg/ffmpeg_receiver.py

```diff
@@ -38,17 +38,15 @@
         self.init(process, self._logging_stdout(), self._logging_stderr())
 
     async def _logging_stdout(self) -> None:
         try:
             logger.debug("Start receiving frames ...")
             while not self.stdout.at_eof():
                 buffer = await self.stdout.readexactly(self._frame_buffer_size)
-
                 await self._frame_callback(buffer)
-
                 if self._frame_index % self._frame_logging_step == 0:
                     logger.debug(f"Recv frame #{self._frame_index} ...")
                 self._frame_index += 1
         except IncompleteReadError as e:
             logger.exception(f"Remain partial data is {len(e.partial)} bytes")
         except CancelledError:
             logger.debug("Frame reader is cancelled")
```

## ffstreamer/module/module.py

```diff
@@ -1,11 +1,11 @@
 # -*- coding: utf-8 -*-
 
 from types import ModuleType
-from typing import List, Union
+from typing import Any, List, Union
 
 from ffstreamer.module.mixin.module_doc import ModuleDoc
 from ffstreamer.module.mixin.module_frame import ModuleFrame
 from ffstreamer.module.mixin.module_open import ModuleOpen
 from ffstreamer.module.mixin.module_version import ModuleVersion
 from ffstreamer.module.variables import MODULE_NAME_PREFIX, MODULE_PIPE_SEPARATOR
 from ffstreamer.package.package_utils import filter_module_names
@@ -34,18 +34,18 @@
         if not self.has_on_close:
             return
         try:
             await self.on_close()
         except BaseException as e:
             self.logger.exception(e)
 
-    async def frame(self, data: bytes) -> bytes:
+    def frame(self, data: Any) -> Any:
         if not self.has_on_frame:
             return data
-        return await self.on_frame(data)
+        return self.on_frame(data)
 
 
 def find_and_strip_module_prefix(prefix=MODULE_NAME_PREFIX) -> List[str]:
     modules = filter_module_names(prefix)
     module_name_begin = len(prefix)
     return list(map(lambda x: x[module_name_begin:].strip(), modules))
```

## ffstreamer/module/mixin/module_frame.py

```diff
@@ -1,23 +1,27 @@
 # -*- coding: utf-8 -*-
 
 from inspect import iscoroutinefunction
+from typing import Any
 
-from ffstreamer.module.errors import ModuleCallbackNotFoundError
+from ffstreamer.module.errors import (
+    ModuleCallbackCoroutineError,
+    ModuleCallbackNotFoundError,
+)
 from ffstreamer.module.mixin._module_base import ModuleBase
 from ffstreamer.module.variables import NAME_ON_FRAME
 
 
 class ModuleFrame(ModuleBase):
     @property
     def has_on_frame(self) -> bool:
         return self.has(NAME_ON_FRAME)
 
-    async def on_frame(self, data: bytes) -> bytes:
+    def on_frame(self, data: Any) -> Any:
         callback = self.get(NAME_ON_FRAME)
         if callback is None:
             raise ModuleCallbackNotFoundError(self.module_name, NAME_ON_FRAME)
 
         if iscoroutinefunction(callback):
-            return await callback(data)
-        else:
-            return callback(data)
+            raise ModuleCallbackCoroutineError(self.module_name, NAME_ON_FRAME)
+
+        return callback(data)
```

## Comparing `ffstreamer-1.0.0.dist-info/LICENSE` & `ffstreamer-1.0.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `ffstreamer-1.0.0.dist-info/METADATA` & `ffstreamer-1.0.1.dist-info/METADATA`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ffstreamer
-Version: 1.0.0
+Version: 1.0.1
 Summary: FFmpeg Streamer
 Home-page: https://github.com/osom8979/ffstreamer
 Author: zer0
 Author-email: osom8979@gmail.com
 Maintainer: zer0
 Maintainer-email: osom8979@gmail.com
 License: MIT License
@@ -13,23 +13,26 @@
 Platform: UNKNOWN
 Classifier: Development Status :: 4 - Beta
 Classifier: Framework :: AsyncIO
 Classifier: Intended Audience :: Developers
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
 Classifier: Topic :: Software Development
 Classifier: Topic :: Utilities
 Classifier: License :: OSI Approved :: MIT License
 Requires-Python: >=3.9
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: coloredlogs
 Requires-Dist: static-ffmpeg
 Requires-Dist: numpy
+Requires-Dist: uvloop
 
 # ffstreamer
 
 [![PyPI](https://img.shields.io/pypi/v/ffstreamer?style=flat-square)](https://pypi.org/project/ffstreamer/)
 ![PyPI - Python Version](https://img.shields.io/pypi/pyversions/ffstreamer?style=flat-square)
 [![GitHub](https://img.shields.io/github/license/osom8979/ffstreamer?style=flat-square)](https://github.com/osom8979/ffstreamer/)
```

## Comparing `ffstreamer-1.0.0.dist-info/RECORD` & `ffstreamer-1.0.1.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,55 +1,55 @@
-ffstreamer/__init__.py,sha256=itQ3TFAYxyhuJ_OaKgrKha3hjael51VJx0LcHo2HBCI,47
+ffstreamer/__init__.py,sha256=3l5HPeRfqaHYyMfWH6JlLX7KqhaRO84AJqXPXizbS_w,47
 ffstreamer/__main__.py,sha256=sihEBePzfe9uOdrV1XEqJcS80K0c_i2B6BArFhckdJU,147
-ffstreamer/arguments.py,sha256=F3njIRlcbaXzOjE5LrOHrNJ13OojVDSsuaTU_iFUi_U,8942
-ffstreamer/entrypoint.py,sha256=RBe31rlVm2NbMTLUVuD29IDwo1be04lDRFKNyd5uDkk,2887
+ffstreamer/arguments.py,sha256=Qe7248d-PKgsJQ-NZB0BwPgwPv2J0xnz6VjfWhowUIk,9176
+ffstreamer/entrypoint.py,sha256=fUXpj5oIKjpHCTCljCE5koBJJZ4A7ocPp_PBLf8lH2g,2887
 ffstreamer/aio/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/aio/stream.py,sha256=eJLNrAEv36ruqpdR4h0RVSnrf4cvrm0FzuueRemaSfE,860
 ffstreamer/apps/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/apps/files.py,sha256=YlGS9Gn4uUJ67GXiG4XKLPu4IyE2oKLFLZjZ5fANGek,473
 ffstreamer/apps/inspect.py,sha256=Zu7s155tOT1tEu-sQT4c0MhqSyDZIanyUvU5lWsViuU,517
 ffstreamer/apps/modules.py,sha256=MZ9r-NQYv30NltqVkthxCp-bOR2vYL1NMWkwmAHwsdo,450
 ffstreamer/apps/pixels.py,sha256=CF9XVVv25QTaf3KSS-mu34x5TavDoeRJcf7S08InV_w,470
-ffstreamer/apps/run.py,sha256=SMTpBQxWeOOpsGaWMqfCBKIz5tHNYLiOIU7vuVaY2Dg,6928
+ffstreamer/apps/run.py,sha256=Yxz7VyXiL9c9hu5Fz6-myWPqVuuSojw3fjMtNQr93Cg,7627
 ffstreamer/argparse/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/argparse/argument_utils.py,sha256=6XHCdy8FvR0Aak6apcBo-_-GsRCrbklLlc5rnFOLFgs,286
 ffstreamer/argparse/namespace_utils.py,sha256=OnOhWzXkQfjSZta0eK0gGkALZl0qg7IbqInLNO6HvHw,1427
 ffstreamer/argparse/typing_namespace.py,sha256=oAqzP5pLz_N2HQJzImFu_PKmEu4OwN-sNo7CE90iIhE,2670
 ffstreamer/assets/__init__.py,sha256=F1bOKRtYSKXDd0JkEttwhUbhVc8LV33B2YmqIQ3HOj8,286
 ffstreamer/chrono/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/chrono/datetime.py,sha256=NTSSfZzvW0AmnqCuUX7xf1eHUWCK9NOjgzbneStZoSo,121
 ffstreamer/ffmpeg/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/ffmpeg/ffmpeg.py,sha256=zgXKVJe33tahUMc0IMFy5DxCuJVoiD7r_dl6GSovDoo,7037
 ffstreamer/ffmpeg/ffmpeg_process.py,sha256=dTReJxZqcGhmcA0yDWa4VSIpfnEF-B95CIKDyVoSVek,2362
-ffstreamer/ffmpeg/ffmpeg_receiver.py,sha256=pKF5zSVPfEezqlW1C7SqgpyvTOCm4sB46p9kK07l5E8,2358
+ffstreamer/ffmpeg/ffmpeg_receiver.py,sha256=RSm3oYob7YUGwYPQzg433UfNeUgCjIKqAq2aZhY6dhc,2356
 ffstreamer/ffmpeg/ffmpeg_sender.py,sha256=kvgv-lUzNI9WoSg6uO3HnyrEE-L6zCHuPTFgdAgRL3c,1161
 ffstreamer/ffmpeg/ffprobe.py,sha256=fOsdZ7rNyZ_8zNGrnmapSyazYyExHuHFh6OSU53L5A0,1022
 ffstreamer/ffmpeg/static_lib.py,sha256=ey1efPGh7FZ8K6uUSqa-3p74oDbwVjxvS00jK9r3Px4,1940
 ffstreamer/inspect/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/inspect/type_origin.py,sha256=P9ty_fKNdS1EQOUh1s9M-3ecXYBBHHkOpL3ri3DzmBk,1242
 ffstreamer/logging/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/logging/colored_formatter.py,sha256=fAedRmXIM6ttJyI8263O9uggHf8__a1SoS1lNj3I20g,1099
 ffstreamer/logging/logging.py,sha256=-1arNUeDirgeZ2jNmR13GZHj_nypM5CWygdDWDpFVAM,6328
 ffstreamer/memory/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/memory/shared_memory_queue.py,sha256=O8AukAzBU3g8yjKjOb2N8RhskHwAN13gw0RdzLMdt9g,4051
 ffstreamer/memory/shared_memory_utils.py,sha256=oABhQTmJgsA9pzPru4hZ-KzLzvJSQn-OmXvG4TAUkrk,974
 ffstreamer/memory/shared_memory_validator.py,sha256=iYJ7AP0PK5TvBxUJWG1J6FZ-Mm7IxSlyXGN0q2izd2o,1325
 ffstreamer/module/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/module/errors.py,sha256=bdSG0vYuLBYRYHtoHWIVufyp4cLgB_3G3-jFBC2Gs2s,3553
-ffstreamer/module/module.py,sha256=7eP2cZEE1oiuYH86xVL1fLur83hHOGBreRnIAlixPsw,2001
+ffstreamer/module/module.py,sha256=HQnZakYftv_9JBN3HNigs5vgTfflyKWIrSxFYdE0C04,1990
 ffstreamer/module/module_printer.py,sha256=pF_TvRMwePdCy8uzVwz-szHOwABCXy0ZB1EQmwemleM,2030
 ffstreamer/module/variables.py,sha256=JvkzxQDvuTjhtslfxdM0YrJEWDGjHhFxzixN1JwoRVI,298
 ffstreamer/module/defaults/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/module/defaults/bytes2numpy.py,sha256=k4UTUbR2y5l9tKnnhDnv-rYUQ23bwRSeRc9lBnIJCBo,799
 ffstreamer/module/defaults/grayscale.py,sha256=aIaEfnXCPvQDgMZNKUoUCTWvsnRzIH_UkOxef2txJmw,226
 ffstreamer/module/defaults/numpy2bytes.py,sha256=tJzc_8fExiZDds41Z_owF3FHtOtVjB9DtcOtOpLxiL0,175
 ffstreamer/module/mixin/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/module/mixin/_module_base.py,sha256=BrQ3ftjXoJf_68Khd9IKtA5W_sRLpYvGTNfDME310XM,2111
 ffstreamer/module/mixin/module_doc.py,sha256=3WApsM8aorsPz2qbqfssT4a6OIF_CM9m-PQPFFAq4kg,1031
-ffstreamer/module/mixin/module_frame.py,sha256=PgFg9fF9MunYWUHoK_dQ1la5H-WoC88OSYSuOi-oznw,702
+ffstreamer/module/mixin/module_frame.py,sha256=B6oEjfue-Rb9M_8I8gSV-NayqC40KumPV3UkvYKNWFw,781
 ffstreamer/module/mixin/module_open.py,sha256=wGuVVrTQNnJuCLiqlfffDdJ6QDs2vZVKzOya-kqTl6E,1974
 ffstreamer/module/mixin/module_version.py,sha256=9wEP-wSNxZfka3uyiHcSNC_KSYNlNE2pqYyrxZD7p6I,1071
 ffstreamer/network/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/network/address_family.py,sha256=eMPq83xKpd0gbqMEMwO9nTjjBtVxUrmzAOQVYZC1gG4,389
 ffstreamer/package/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/package/package_utils.py,sha256=fqs4GS6OoykGhIUTzSD5MbUw2VSq0MSvSDgG0Y09cJo,2755
 ffstreamer/parse/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -63,13 +63,13 @@
 ffstreamer/types/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/types/any/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/types/any/to_string.py,sha256=cIz4JnmJD2rugv7eZms1HUXj9U_EM44pNfLVfuJdyKw,545
 ffstreamer/types/string/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ffstreamer/types/string/to_any.py,sha256=7I0qBFm63ZNeQyV4ucOwEmKsDrTP-NrRdC-0rZt5vas,535
 ffstreamer/types/string/to_boolean.py,sha256=fNivKBYjWCaJE8r5IToqcY-h7nPCUjQ1DgGz_w3K3_A,395
 ffstreamer/www/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-ffstreamer-1.0.0.dist-info/LICENSE,sha256=W6E4CImwrifHZNTPd3mERP-Ni9XDYgU6BFAxMyccl4c,1065
-ffstreamer-1.0.0.dist-info/METADATA,sha256=NvPG2fhIluH4TeJUAssc3ZpIbKbBwka5e-1SPTVvzIw,1447
-ffstreamer-1.0.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-ffstreamer-1.0.0.dist-info/entry_points.txt,sha256=aDv0Dv-tOyC1HWUbDC7qm6hfXeeGjhBmN9LvA0LBg7A,59
-ffstreamer-1.0.0.dist-info/top_level.txt,sha256=1ThAyyy0bM0lRLhNh17j3oyjTkH1Knw4WVGGJZfXkrs,11
-ffstreamer-1.0.0.dist-info/RECORD,,
+ffstreamer-1.0.1.dist-info/LICENSE,sha256=W6E4CImwrifHZNTPd3mERP-Ni9XDYgU6BFAxMyccl4c,1065
+ffstreamer-1.0.1.dist-info/METADATA,sha256=F-mq_1WU4U3VnVfiGjSlzyIKvOybAeWITxs26pFAmeU,1571
+ffstreamer-1.0.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+ffstreamer-1.0.1.dist-info/entry_points.txt,sha256=aDv0Dv-tOyC1HWUbDC7qm6hfXeeGjhBmN9LvA0LBg7A,59
+ffstreamer-1.0.1.dist-info/top_level.txt,sha256=1ThAyyy0bM0lRLhNh17j3oyjTkH1Knw4WVGGJZfXkrs,11
+ffstreamer-1.0.1.dist-info/RECORD,,
```

